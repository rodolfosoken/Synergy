<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:body>
	<p:panelGrid columns="1">
		<f:facet name="header">Detalhes da Compra</f:facet>
		<p:panelGrid columns="3" id="dados-pep">
			<p:outputLabel value="PEP" for="pep" />
			<p:autoComplete style="margin-right:30px"
				value="#{cotacaoFerramentaBean.cotacaoFerramenta.compraFerramenta.pep}"
				disabled="#{cotacaoFerramentaBean.cotacaoFerramenta.comprado}"
				var="pep" converter="pepConverter" dropdown="true"
				itemLabel="#{pep.numero} #{pep.descricao}" forceSelection="true"
				itemValue="#{pep}" required="true"
				completeMethod="#{cotacaoFerramentaBean.completarPep}" id="pep">
				<p:ajax event="itemSelect" action="#{cotacoaFerramentaBean.okPep}"
					update="grid-dados-compra dados-pep :frm:messages" />
			</p:autoComplete>

		</p:panelGrid>
		<p:panelGrid columns="2">
			<p:panelGrid columns="2" id="grid-dados-compra">
				<f:facet name="header">Dados da Compra</f:facet>
				<p:outputLabel value="Fornecedor" for="fornecedor-compra" />
				<p:outputLabel id="fornecedor-compra" readonly="true"
					value="#{cotacaoFerramentaBean.cotacaoFerramenta.compraFerramenta.participante.fornecedor.nome}" />
				<p:outputLabel value="Data de Aquisição" for="data" />
				<h:outputText
					value="#{cotacaoFerramentaBean.cotacaoFerramenta.compraFerramenta.dataAquisicao}"
					id="data">
					<f:convertDateTime pattern="dd/MM/yyyy" />
				</h:outputText>
				<p:outputLabel value="Preço" for="preco" />
				<p:outputLabel id="preco" readonly="true"
					value="#{cotacaoFerramentaBean.cotacaoFerramenta.compraFerramenta.preco}" />
				<p:outputLabel value="PEP" />
				<p:outputLabel
					value="#{cotacaoFerramentaBean.cotacaoFerramenta.compraFerramenta.pep.numero}" />

			</p:panelGrid>

			<p:panelGrid columns="3">
				<f:facet name="header">Avaliação de Compra</f:facet>
				<p:outputLabel value="Prazo" for="prazo" />
				<p:outputLabel value="Ok?" />
				<p:selectBooleanButton id="prazo" onLabel="Sim" offLabel="Não"
					disabled="#{cotacaoFerramentaBean.cotacaoFerramenta.comprado}"
					value="#{cotacaoFerramentaBean.cotacaoFerramenta.compraFerramenta.okPrazo}">
					<f:ajax event="valueChange"
						listener="#{cotacaoFerramentaBean.avaliaCompra}"></f:ajax>
				</p:selectBooleanButton>

				<p:outputLabel value="Especificações" for="espec" />
				<p:outputLabel value="Ok?" />
				<p:selectBooleanButton id="espec" onLabel="Sim" offLabel="Não"
					disabled="#{cotacaoFerramentaBean.cotacaoFerramenta.comprado}"
					value="#{cotacaoFerramentaBean.cotacaoFerramenta.compraFerramenta.okEspec}">
					<f:ajax event="valueChange"
						listener="#{cotacaoFerramentaBean.avaliaCompra}"></f:ajax>
				</p:selectBooleanButton>

				<p:outputLabel value="Visita" for="visita" />
				<p:outputLabel value="Ok?" />
				<p:selectBooleanButton id="visita" onLabel="Sim" offLabel="Não"
					disabled="#{cotacaoFerramentaBean.cotacaoFerramenta.comprado}"
					value="#{cotacaoFerramentaBean.cotacaoFerramenta.compraFerramenta.okVisita}">
					<f:ajax event="valueChange"
						listener="#{cotacaoFerramentaBean.avaliaCompra}"></f:ajax>
				</p:selectBooleanButton>

				<p:outputLabel value="Assistência" for="assist" />
				<p:outputLabel value="Ok?" />
				<p:selectBooleanButton id="assist" onLabel="Sim" offLabel="Não"
					disabled="#{cotacaoFerramentaBean.cotacaoFerramenta.comprado}"
					value="#{cotacaoFerramentaBean.cotacaoFerramenta.compraFerramenta.okAssist}">
					<f:ajax event="valueChange"
						listener="#{cotacaoFerramentaBean.avaliaCompra}"></f:ajax>
				</p:selectBooleanButton>
			</p:panelGrid>
		</p:panelGrid>
	</p:panelGrid>

</h:body>

</html>